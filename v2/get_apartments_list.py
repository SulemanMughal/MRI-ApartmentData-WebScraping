import requests

from bs4 import BeautifulSoup

import csv



cookies = {
    '_gid': 'GA1.2.1372346781.1735623265',
    '__utmc': '50201974',
    '_ga': 'GA1.1.401607862.1735623265',
    'ASPSESSIONIDAWTATDCR': 'AFDEJHDBBBPJMMEFBMLHNCFC',
    '_ga_WGPY1JWDFK': 'GS1.1.1735629970.2.1.1735629995.0.0.0',
    '__utma': '50201974.1063422445.1735623290.1735623384.1735629996.3',
    '__utmb': '50201974',
    '__utmz': '50201974.1735629996.3.3.utmccn=(referral)|utmcsr=us.apartmentdata.com|utmcct=/|utmcmd=referral',
    'ADS': 'G1=%7EADC%5FZ%5F100028%7Eadc%5Fz%5F1000%7EADC%5FZ%5F100120241231020315%7Eadc%5Fz%5F1001%7EADC%5FZ%5F10020%7Eadc%5Fz%5F1002%7EADC%5FZ%5F10070%7Eadc%5Fz%5F1007%7EADC%5FZ%5F10081%7Eadc%5Fz%5F1008%7EADC%5FZ%5F1009F%7Eadc%5Fz%5F1009%7EADC%5FZ%5F1010Y%7Eadc%5Fz%5F1010%7EADC%5FZ%5F1011N%7Eadc%5Fz%5F1011%7EADC%5FZ%5F101310061%7Eadc%5Fz%5F1013%7EADC%5FZ%5F1016TX%7Eadc%5Fz%5F1016%7EADC%5FZ%5F10190%7Eadc%5Fz%5F1019%7EADC%5FZ%5F102099999%7Eadc%5Fz%5F1020%7EADC%5FZ%5F1021X%7Eadc%5Fz%5F1021%7EADC%5FZ%5F1022X%7Eadc%5Fz%5F1022%7EADC%5FZ%5F102310%7Eadc%5Fz%5F1023%7EADC%5FZ%5F1024HSVI%7Eadc%5Fz%5F1024%7EADC%5FZ%5F10251900%7Eadc%5Fz%5F1025%7EADC%5FZ%5F10269999%7Eadc%5Fz%5F1026%7EADC%5FZ%5F10271%7Eadc%5Fz%5F1027%7EADC%5FZ%5F10289999%7Eadc%5Fz%5F1028%7EADC%5FZ%5F10291%7Eadc%5Fz%5F1029%7EADC%5FZ%5F10309999%7Eadc%5Fz%5F1030%7EADC%5FZ%5F1034Y%7Eadc%5Fz%5F1034%7EADC%5FZ%5F103550%7Eadc%5Fz%5F1035%7EADC%5FZ%5F10360%7Eadc%5Fz%5F1036%7EADC%5FZ%5F10370%7Eadc%5Fz%5F1037%7EADC%5FZ%5F10380%2E00%7Eadc%5Fz%5F1038%7EADC%5FZ%5F1050AR%7Eadc%5Fz%5F1050%7EADC%5FZ%5F105150%7Eadc%5Fz%5F1051%7EADC%5FZ%5F1053A%7Eadc%5Fz%5F1053%7EADC%5FZ%5F10571%7Eadc%5Fz%5F1057%7EADC%5FZ%5F11000%7Eadc%5Fz%5F1100%7EADC%5FZ%5F11020%7Eadc%5Fz%5F1102%7EADC%5FZ%5F11030%7Eadc%5Fz%5F1103%7EADC%5FZ%5F11045%7Eadc%5Fz%5F1104%7EADC%5FZ%5F11060%7Eadc%5Fz%5F1106%7EADC%5FZ%5F11070%7Eadc%5Fz%5F1107%7EADC%5FZ%5F11085%7Eadc%5Fz%5F1108%7EADC%5FZ%5F1109P%7Eadc%5Fz%5F1109%7EADC%5FZ%5F11220%7Eadc%5Fz%5F1122%7EADC%5FZ%5F11230%7Eadc%5Fz%5F1123%7EADC%5FZ%5F11245%7Eadc%5Fz%5F1124%7EADC%5FZ%5F11255%7Eadc%5Fz%5F1125%7EADC%5FZ%5F11265%7Eadc%5Fz%5F1126%7EADC%5FZ%5F11275%7Eadc%5Fz%5F1127%7EADC%5FZ%5F11280%7Eadc%5Fz%5F1128%7EADC%5FZ%5F11290%7Eadc%5Fz%5F1129%7EADC%5FZ%5F120063939%7Eadc%5Fz%5F1200%7EADC%5FZ%5F12013863%7Eadc%5Fz%5F1201%7EADC%5FZ%5F1202Y%7Eadc%5Fz%5F1202%7EADC%5FZ%5F1205Y%7Eadc%5Fz%5F1205%7EADC%5FZ%5F1207ReLoad%7Eadc%5Fz%5F1207%7EADC%5FZ%5F1220216%7Eadc%5Fz%5F1220%7EADC%5FZ%5F122120241231012634%7Eadc%5Fz%5F1221%7EADC%5FZ%5F1230220%7Eadc%5Fz%5F1230%7EADC%5FZ%5F123120241231012633%7Eadc%5Fz%5F1231%7EADC%5FZ%5F1232Y%7Eadc%5Fz%5F1232%7EADC%5FZ%5F1233TXHO%7Eadc%5Fz%5F1233%7EADC%5FZ%5F1236Y%3A%7Eadc%5Fz%5F1236%7EADC%5FZ%5F1237N%7Eadc%5Fz%5F1237%7EADC%5FZ%5F123812%2F10%2F2024%7Eadc%5Fz%5F1238%7EADC%5FZ%5F1251Apartment+Wolf%7Eadc%5Fz%5F1251%7EADC%5FZ%5F125211906+Marrs+Dr%7Eadc%5Fz%5F1252%7EADC%5FZ%5F1254Houston%7Eadc%5Fz%5F1254%7EADC%5FZ%5F1255TX%7Eadc%5Fz%5F1255%7EADC%5FZ%5F125677065%7Eadc%5Fz%5F1256%7EADC%5FZ%5F1257281%2F701%2D0336%7Eadc%5Fz%5F1257%7EADC%5FZ%5F1260210%2F540%2D1552%7Eadc%5Fz%5F1260%7EADC%5FZ%5F1262http%3A%2F%2Fwww%2EApartmentWolf%2Ecom%7Eadc%5Fz%5F1262%7EADC%5FZ%5F1268%5EI1830%5Ei18%5EI19Basic%5Ei19%7Eadc%5Fz%5F1268%7EADC%5FZ%5F130063939%7Eadc%5Fz%5F1300%7EADC%5FZ%5F1301Alex%7Eadc%5Fz%5F1301%7EADC%5FZ%5F1302Taylor%7Eadc%5Fz%5F1302%7EADC%5FZ%5F1303281%2F701%2D0336%7Eadc%5Fz%5F1303%7EADC%5FZ%5F1306alex%40apartmentwolf%2Ecom%7Eadc%5Fz%5F1306%7EADC%5FZ%5F1307TX%5F613630%7Eadc%5Fz%5F1307%7EADC%5FZ%5F1400ADC%5FDefault%2Egif%7Eadc%5Fz%5F1400%7EADC%5FZ%5F1403%23000000%7Eadc%5Fz%5F1403%7EADC%5FZ%5F1404%23FFFFFF%7Eadc%5Fz%5F1404%7EADC%5FZ%5F1406%23000000%7Eadc%5Fz%5F1406%7EADC%5FZ%5F1407%2381C8F2%7Eadc%5Fz%5F1407%7EADC%5FZ%5F1409%23000000%7Eadc%5Fz%5F1409%7EADC%5FZ%5F1410%23DEEBF7%7Eadc%5Fz%5F1410%7EADC%5FZ%5F1413GrayBlack%2F%7Eadc%5Fz%5F1413%7EADC%5FZ%5F1500A%7Eadc%5Fz%5F1500%7EADC%5FZ%5F1502N%7Eadc%5Fz%5F1502%7EADC%5FZ%5F1503TX%2F%7Eadc%5Fz%5F1503%7EADC%5FZ%5F1772TX%7Eadc%5Fz%5F1772%7EADC%5FZ%5F1773TXAU%7Eadc%5Fz%5F1773&G4=20241231012631&G3=10061&A1=T&G2=alex%40apartmentwolf%2Ecom&B1=54%2D672348%2D163885',
}

headers = {
    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',
    'accept-language': 'en-US,en;q=0.9,ur;q=0.8',
    'cache-control': 'max-age=0',
    'content-type': 'application/x-www-form-urlencoded',
    # 'cookie': '_gid=GA1.2.1372346781.1735623265; __utmc=50201974; _ga=GA1.1.401607862.1735623265; ASPSESSIONIDAWTATDCR=AFDEJHDBBBPJMMEFBMLHNCFC; _ga_WGPY1JWDFK=GS1.1.1735629970.2.1.1735629995.0.0.0; __utma=50201974.1063422445.1735623290.1735623384.1735629996.3; __utmb=50201974; __utmz=50201974.1735629996.3.3.utmccn=(referral)|utmcsr=us.apartmentdata.com|utmcct=/|utmcmd=referral; ADS=G1=%7EADC%5FZ%5F100028%7Eadc%5Fz%5F1000%7EADC%5FZ%5F100120241231020315%7Eadc%5Fz%5F1001%7EADC%5FZ%5F10020%7Eadc%5Fz%5F1002%7EADC%5FZ%5F10070%7Eadc%5Fz%5F1007%7EADC%5FZ%5F10081%7Eadc%5Fz%5F1008%7EADC%5FZ%5F1009F%7Eadc%5Fz%5F1009%7EADC%5FZ%5F1010Y%7Eadc%5Fz%5F1010%7EADC%5FZ%5F1011N%7Eadc%5Fz%5F1011%7EADC%5FZ%5F101310061%7Eadc%5Fz%5F1013%7EADC%5FZ%5F1016TX%7Eadc%5Fz%5F1016%7EADC%5FZ%5F10190%7Eadc%5Fz%5F1019%7EADC%5FZ%5F102099999%7Eadc%5Fz%5F1020%7EADC%5FZ%5F1021X%7Eadc%5Fz%5F1021%7EADC%5FZ%5F1022X%7Eadc%5Fz%5F1022%7EADC%5FZ%5F102310%7Eadc%5Fz%5F1023%7EADC%5FZ%5F1024HSVI%7Eadc%5Fz%5F1024%7EADC%5FZ%5F10251900%7Eadc%5Fz%5F1025%7EADC%5FZ%5F10269999%7Eadc%5Fz%5F1026%7EADC%5FZ%5F10271%7Eadc%5Fz%5F1027%7EADC%5FZ%5F10289999%7Eadc%5Fz%5F1028%7EADC%5FZ%5F10291%7Eadc%5Fz%5F1029%7EADC%5FZ%5F10309999%7Eadc%5Fz%5F1030%7EADC%5FZ%5F1034Y%7Eadc%5Fz%5F1034%7EADC%5FZ%5F103550%7Eadc%5Fz%5F1035%7EADC%5FZ%5F10360%7Eadc%5Fz%5F1036%7EADC%5FZ%5F10370%7Eadc%5Fz%5F1037%7EADC%5FZ%5F10380%2E00%7Eadc%5Fz%5F1038%7EADC%5FZ%5F1050AR%7Eadc%5Fz%5F1050%7EADC%5FZ%5F105150%7Eadc%5Fz%5F1051%7EADC%5FZ%5F1053A%7Eadc%5Fz%5F1053%7EADC%5FZ%5F10571%7Eadc%5Fz%5F1057%7EADC%5FZ%5F11000%7Eadc%5Fz%5F1100%7EADC%5FZ%5F11020%7Eadc%5Fz%5F1102%7EADC%5FZ%5F11030%7Eadc%5Fz%5F1103%7EADC%5FZ%5F11045%7Eadc%5Fz%5F1104%7EADC%5FZ%5F11060%7Eadc%5Fz%5F1106%7EADC%5FZ%5F11070%7Eadc%5Fz%5F1107%7EADC%5FZ%5F11085%7Eadc%5Fz%5F1108%7EADC%5FZ%5F1109P%7Eadc%5Fz%5F1109%7EADC%5FZ%5F11220%7Eadc%5Fz%5F1122%7EADC%5FZ%5F11230%7Eadc%5Fz%5F1123%7EADC%5FZ%5F11245%7Eadc%5Fz%5F1124%7EADC%5FZ%5F11255%7Eadc%5Fz%5F1125%7EADC%5FZ%5F11265%7Eadc%5Fz%5F1126%7EADC%5FZ%5F11275%7Eadc%5Fz%5F1127%7EADC%5FZ%5F11280%7Eadc%5Fz%5F1128%7EADC%5FZ%5F11290%7Eadc%5Fz%5F1129%7EADC%5FZ%5F120063939%7Eadc%5Fz%5F1200%7EADC%5FZ%5F12013863%7Eadc%5Fz%5F1201%7EADC%5FZ%5F1202Y%7Eadc%5Fz%5F1202%7EADC%5FZ%5F1205Y%7Eadc%5Fz%5F1205%7EADC%5FZ%5F1207ReLoad%7Eadc%5Fz%5F1207%7EADC%5FZ%5F1220216%7Eadc%5Fz%5F1220%7EADC%5FZ%5F122120241231012634%7Eadc%5Fz%5F1221%7EADC%5FZ%5F1230220%7Eadc%5Fz%5F1230%7EADC%5FZ%5F123120241231012633%7Eadc%5Fz%5F1231%7EADC%5FZ%5F1232Y%7Eadc%5Fz%5F1232%7EADC%5FZ%5F1233TXHO%7Eadc%5Fz%5F1233%7EADC%5FZ%5F1236Y%3A%7Eadc%5Fz%5F1236%7EADC%5FZ%5F1237N%7Eadc%5Fz%5F1237%7EADC%5FZ%5F123812%2F10%2F2024%7Eadc%5Fz%5F1238%7EADC%5FZ%5F1251Apartment+Wolf%7Eadc%5Fz%5F1251%7EADC%5FZ%5F125211906+Marrs+Dr%7Eadc%5Fz%5F1252%7EADC%5FZ%5F1254Houston%7Eadc%5Fz%5F1254%7EADC%5FZ%5F1255TX%7Eadc%5Fz%5F1255%7EADC%5FZ%5F125677065%7Eadc%5Fz%5F1256%7EADC%5FZ%5F1257281%2F701%2D0336%7Eadc%5Fz%5F1257%7EADC%5FZ%5F1260210%2F540%2D1552%7Eadc%5Fz%5F1260%7EADC%5FZ%5F1262http%3A%2F%2Fwww%2EApartmentWolf%2Ecom%7Eadc%5Fz%5F1262%7EADC%5FZ%5F1268%5EI1830%5Ei18%5EI19Basic%5Ei19%7Eadc%5Fz%5F1268%7EADC%5FZ%5F130063939%7Eadc%5Fz%5F1300%7EADC%5FZ%5F1301Alex%7Eadc%5Fz%5F1301%7EADC%5FZ%5F1302Taylor%7Eadc%5Fz%5F1302%7EADC%5FZ%5F1303281%2F701%2D0336%7Eadc%5Fz%5F1303%7EADC%5FZ%5F1306alex%40apartmentwolf%2Ecom%7Eadc%5Fz%5F1306%7EADC%5FZ%5F1307TX%5F613630%7Eadc%5Fz%5F1307%7EADC%5FZ%5F1400ADC%5FDefault%2Egif%7Eadc%5Fz%5F1400%7EADC%5FZ%5F1403%23000000%7Eadc%5Fz%5F1403%7EADC%5FZ%5F1404%23FFFFFF%7Eadc%5Fz%5F1404%7EADC%5FZ%5F1406%23000000%7Eadc%5Fz%5F1406%7EADC%5FZ%5F1407%2381C8F2%7Eadc%5Fz%5F1407%7EADC%5FZ%5F1409%23000000%7Eadc%5Fz%5F1409%7EADC%5FZ%5F1410%23DEEBF7%7Eadc%5Fz%5F1410%7EADC%5FZ%5F1413GrayBlack%2F%7Eadc%5Fz%5F1413%7EADC%5FZ%5F1500A%7Eadc%5Fz%5F1500%7EADC%5FZ%5F1502N%7Eadc%5Fz%5F1502%7EADC%5FZ%5F1503TX%2F%7Eadc%5Fz%5F1503%7EADC%5FZ%5F1772TX%7Eadc%5Fz%5F1772%7EADC%5FZ%5F1773TXAU%7Eadc%5Fz%5F1773&G4=20241231012631&G3=10061&A1=T&G2=alex%40apartmentwolf%2Ecom&B1=54%2D672348%2D163885',
    'origin': 'https://www.apartmentdata.com',
    'priority': 'u=0, i',
    'referer': 'https://www.apartmentdata.com/EXERequest/ADC_ShowLocTools_LookupPOI.asp?MODE=AptIDLookupDirectoryAptName&TYPE=Link&ALLOW=TXAU',
    'sec-ch-ua': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
    'sec-fetch-dest': 'iframe',
    'sec-fetch-mode': 'navigate',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-user': '?1',
    'upgrade-insecure-requests': '1',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36',
}

params = {
    'MODE': 'AptIDLookupDirectoryAptName',
    'TYPE': 'Form',
    'ALLOW': 'TXAU',
}

# data = {
#     'LOOKFOR': '0',
#     'REGION': 'TXHO',
# }

# response = requests.post(
#     'https://www.apartmentdata.com/EXERequest/ADC_ShowLocTools_LookupPOI.asp',
#     params=params,
#     cookies=cookies,
#     headers=headers,
#     data=data,
# )


# # print(response.content)



# soup = BeautifulSoup(response.content, 'html.parser')
# select_tag = soup.find('select', {'id': 'LookupPOI_ID'})
# options = select_tag.find_all('option')

# # for option in options:
# #     value = option.get('value')
# #     text = option.text
# #     print(f'Value: {value}')



# # for option in options:
# #     value = option.get('value')
# #     if value:
# #         first_part = value.split('~')[0]
# #         print(f'First part: {first_part}')



with open('apartments_3.csv', mode='w', newline='') as file:
    writer = csv.writer(file)
    writer.writerow(['First Part'])

#     for option in options:
#         value = option.get('value')
#         if value:
#             first_part = value.split('~')[0]
#             writer.writerow([first_part])




    for i in range(19):
        data = {
            'LOOKFOR': str(i),
            'REGION': 'TXAU',
        }

        response = requests.post(
            'https://www.apartmentdata.com/EXERequest/ADC_ShowLocTools_LookupPOI.asp',
            params=params,
            cookies=cookies,
            headers=headers,
            data=data,
        )

        soup = BeautifulSoup(response.content, 'html.parser')
        select_tag = soup.find('select', {'id': 'LookupPOI_ID'})
        options = select_tag.find_all('option')

        for option in options:
            value = option.get('value')
            if value:
                first_part = value.split('~')[0]
                writer.writerow([first_part])